{
    "family": "commerce-api-portal",
    "taskRoleArn": "arn:aws:iam::223945745576:role/ecr-actions-github",
    "executionRoleArn": "arn:aws:iam::223945745576:role/ecsTaskExecutionRole",
    "networkMode": "bridge",
    "containerDefinitions": [
        {
            "name": "grocery-price-api",
            "image": "docker.io/anthonyikeda/grocery-price-api:latest",
            "cpu": 2048,
            "memory": 4096,
            "portMappings": [
                {
                    "containerPort": 8034,
                    "hostPort": 8034,
                    "protocol": "tcp",
                    "name": "apiwed",
                    "appProtocol": "http",
                    "containerPortRange": ""
                }
            ],
            "healthCheck": {
                "command": 
                    [ "CMD-SHELL", "curl -f http://localhost:8034/actuator/health || exit 1" ]
                ,
                "interval": 300,
                "timeout": 30,
                "retries": 4,
                "startPeriod": 25
            }
        }
    ]
}
